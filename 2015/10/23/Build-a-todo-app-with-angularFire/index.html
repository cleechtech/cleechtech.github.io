<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<!-- Use Build a todo app with angularFire for dynamic title -->
	<title>El Blogo de Connor</title>

	<!-- Twitter bootstrap (via cdn) -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

	<!-- assets located in source folder -->
	<link rel="stylesheet" href="/css/main.css">

</head>

<div class='row text-center'>
	<form action="//github.us5.list-manage.com/subscribe/post?u=0713e0ac2a414eae4ca4bb786&amp;id=0bdf2bdb00" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="navbar-form" target="_blank" novalidate>
	    <div class="form-group">
	    	<label for="mce-EMAIL">Get notified when I post a new tutorial!</label>
		    <input type="email" value="" name="EMAIL" class="form-control" placeholder="Email address" required>
		    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
		    <div style="position: absolute; left: -5000px;" aria-hidden="true">
		    	<input type="text" name="b_0713e0ac2a414eae4ca4bb786_0bdf2bdb00" tabindex="-1" value="">
		    </div> 	
	    </div>
	    <input type="submit" value="Submit" name="subscribe" class="btn btn-warning">
	</form>
</div>
<body id='wrapper'>
	<div class='hideOverflow'>
		<div class='container blog-post'>
	<div class='row'>
		<div class='col-sm-12'>
			<a href='/' class="btn btn-yellow btn-circle" style='color:grey;'>
            	<i class="fa fa-home fa-2"></i>
        	</a>
		</div>
	</div>
	<div class='row'>
		<h1 class='author-name'>Build a todo app with angularFire</h1>
	    2015-10-23 
	    <hr />
		<p>Hey everyone! <a href="https://www.firebase.com/" target="_blank" rel="external">Firebase</a> and angular.js are awesome tools that you should check out. Today we’re going to build and deploy a persistent client side app with only front end code. I modeled this heavily off the Firebase + Angular <a href="https://github.com/tastejs/todomvc/tree/master/examples/firebase-angular" target="_blank" rel="external">TodoMVC</a>. It’s a great project but the code seemed a bit heavy. We’re gunna use the most recent version of <a href="https://www.firebase.com/docs/web/libraries/angular/" target="_blank" rel="external">angularFire</a>  and bootstrap for styles</p>
<p><a href="https://github.com/jasonshark/angularFire-todo" target="_blank" rel="external">SOURCE CODE</a> is here</p>
<p><a href="https://firebasingtodos.firebaseapp.com/" target="_blank" rel="external">DEMO</a> is here</p>
<a id="more"></a>
<h3 id="Get_started">Get started</h3><p><a href="https://www.firebase.com/signup/" target="_blank" rel="external">Sign up</a> for a free firebase account. This is basically going to be our database. Somewhere deep down Firebase uses MongoDB. Our database is going to look like a neat JSON object</p>
<p>Create a firebase instance (called a Forge) for this project:</p>
<p>{<1>}<img src="/content/images/2014/12/Screen-Shot-2014-12-27-at-2-02-59-PM.png" alt=""></1></p>
<p>Once that’s set up you can easily add <a href="https://www.firebase.com/docs/web/libraries/angular/api.html#angularfire-user-authentication-and-management" target="_blank" rel="external">authentication</a> and <a href="https://www.firebase.com/docs/security/guide/" target="_blank" rel="external">security rules</a> for real apps. We’re gunna spin up some three way data binding between the $scope, view and our firebase forge, smile and call it a day</p>
<h3 id="Start_coding">Start coding</h3><p>Setup a project and a static website:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir firebase-todos &amp;&amp; cd firebase-todos</span><br><span class="line">$ touch index<span class="class">.html</span> app<span class="class">.js</span> style.css</span><br></pre></td></tr></table></figure></p>
<p><strong>index.html</strong><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">lang</span>=<span class="value">"en"</span> <span class="attribute">ng-app</span>=<span class="value">"todomvc"</span> <span class="attribute">data-framework</span>=<span class="value">"firebase"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">title</span>&gt;</span>Firebase &amp;amp; AngularJS todo app<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">href</span>=<span class="value">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">style</span> <span class="attribute">rel</span>=<span class="value">'stylesheet'</span> <span class="attribute">href</span>=<span class="value">'style.css'</span>&gt;</span><span class="css"></span><br><span class="line">		&lt;<span class="tag">style</span>&gt;<span class="attr_selector">[ng-cloak]</span> <span class="rules">&#123; <span class="rule"><span class="attribute">display</span>:<span class="value"> none</span></span>; &#125;</span></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">h1</span>&gt;</span>Firebase Todo<span class="tag">&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!-- AngularJS --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- Firebase --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://cdn.firebase.com/js/client/2.0.4/firebase.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- AngularFire --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"https://cdn.firebase.com/libs/angularfire/0.9.0/angularfire.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">'js/app.js'</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>So here we included cdn to bootstrap for easy to use css classes and three javascript libraries. We have angular.js, firebase’s javascript library and angularFire. Angularfire defines a $firebase service (link to <a href="https://www.firebase.com/docs/web/libraries/angular/api.html" target="_blank" rel="external">API docs</a>) that will make our three way data binding super simple and angulartastic. That means changes to data in the database, browser or $scope all talk to each other and react instantly without having to worry about $scope.$apply() or anything nutty. Inject the firebase service into your main angular module (<strong>app.js</strong> file):<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> todomvc = angular.<span class="built_in">module</span>(<span class="string">'todomvc'</span>, [<span class="string">'firebase'</span>]);</span><br></pre></td></tr></table></figure></p>
<p>This gives us access to <code>$firebase</code> service that we can inject as a dependency anywhere in our app. If you don’t know what that means sit tight, it’s easy.</p>
<h3 id="Add_lipstick">Add lipstick</h3><p>I don’t really understand how to debug or explain CSS. Copy and paste this into <strong>style.css</strong>:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.editing</span> <span class="rules">&#123;</span><br><span class="line">	<span class="rule"><span class="attribute">border-bottom</span>:<span class="value"> none</span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.editing</span> <span class="class">.edit</span> <span class="rules">&#123;</span><br><span class="line">	<span class="rule"><span class="attribute">display</span>:<span class="value"> block</span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">506px</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">13px</span> <span class="number">17px</span> <span class="number">12px</span> <span class="number">17px</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">43px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.editing</span> <span class="class">.view</span> <span class="rules">&#123;</span><br><span class="line">	<span class="rule"><span class="attribute">display</span>:<span class="value"> none</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.editing</span><span class="pseudo">:last-child</span> <span class="rules">&#123;</span><br><span class="line">	<span class="rule"><span class="attribute">margin-bottom</span>:<span class="value"> -<span class="number">1px</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>I extracted these relevant bits from <a href="https://github.com/tastejs/todomvc/blob/master/examples/firebase-angular/bower_components/todomvc-common/base.css" target="_blank" rel="external">TodoMVC’s base.css</a>. For the most part we’ll use bootstrap.</p>
<h3 id="Add_and_delete_todos">Add and delete todos</h3><p>So here’s an html setup of our todolist that will let us add and delte todos:</p>
<figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">'container'</span> <span class="attribute">ng-controller</span>=<span class="value">"TodoCtrl"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">section</span> <span class="attribute">class</span>=<span class="value">'row'</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">header</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">h1</span> <span class="attribute">class</span>=<span class="value">'text-center'</span>&gt;</span>What do you have to do?<span class="tag">&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">form</span> <span class="attribute">ng-submit</span>=<span class="value">"addTodo()"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="title">input</span> <span class="attribute">class</span>=<span class="value">'form-control'</span> <span class="attribute">placeholder</span>=<span class="value">"What needs to be done?"</span> <span class="attribute">ng-model</span>=<span class="value">"newTodo"</span> <span class="attribute">autofocus</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="title">form</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">header</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">section</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">h3</span>&gt;</span>All things todo<span class="tag">&lt;/<span class="title">h3</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">p</span>&gt;</span>Double-click to edit a todo<span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"list-group"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="title">div</span> <span class="attribute">ng-repeat</span>=<span class="value">"todo in todos"</span> <span class="attribute">class</span>=<span class="value">"list-group-item"</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"view"</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="title">label</span>&gt;</span></span><span class="expression">&#123;&#123;<span class="variable">todo.title</span>&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="title">button</span> <span class="attribute">class</span>=<span class="value">'btn btn-danger pull-right'</span> <span class="attribute">ng-click</span>=<span class="value">"removeTodo(todo)"</span>&gt;</span>X<span class="tag">&lt;/<span class="title">button</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">section</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="title">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>So we need a <code>TodoCtrl</code> and to define <code>addTodo</code> and <code>removeTodo</code> methods on that controller’s scope.</p>
<p><strong>app.js</strong><br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">todomvc.controller(<span class="string">'TodoCtrl'</span>, <span class="keyword">function</span> TodoCtrl(<span class="variable">$scope</span>, <span class="variable">$firebase</span>) &#123;</span><br><span class="line">	var fireRef = new Firebase(<span class="string">'https://&lt;NAME_OF_YOUR_FIREBASE&gt;.firebaseio.com/'</span>);</span><br><span class="line">	<span class="variable">$scope</span>.todos = <span class="variable">$firebase</span>(fireRef).<span class="variable">$asArray</span>();</span><br><span class="line">	<span class="variable">$scope</span>.newTodo = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">	<span class="variable">$scope</span>.addTodo = function()&#123;</span><br><span class="line">		var newTodo = <span class="variable">$scope</span>.newTodo.trim();</span><br><span class="line">		if (!newTodo.length) &#123;</span><br><span class="line">			return;</span><br><span class="line">		&#125;</span><br><span class="line">		// push to firebase</span><br><span class="line">		<span class="variable">$scope</span>.todos.<span class="variable">$add</span>(&#123;</span><br><span class="line">			title: newTodo,</span><br><span class="line">			completed: false</span><br><span class="line">		&#125;);</span><br><span class="line">		<span class="variable">$scope</span>.newTodo = <span class="string">''</span>;</span><br><span class="line">	&#125;;</span><br><span class="line">    </span><br><span class="line">	<span class="variable">$scope</span>.removeTodo = function(todo)&#123;</span><br><span class="line">		<span class="variable">$scope</span>.todos.<span class="variable">$remove</span>(todo);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>Most everything is going to be in this controller. fireRef creates a reference to our firebase database instance. The url I use is <code>https://firebasingtodos.firebaseio.com/</code>. It’ll be whatever-you-named-your-forge.firebaseio.com/ in your code. This is kind of like an API endpoint for transorming your data. Next we save the whole database as an array an attach that to the controller’s scope. In the addTodo and removeTodo bits we use methods of the firebase array <code>.$add()</code> and <code>.$remove()</code>. That’s it! Now you can post and remove todos, refresh the page and everything stays the same. Open up your Forge in a different browser and you’ll see your database and the browser update at the same time. Neat huh? This only scratches the surface. Make sure to check out the <a href="https://www.firebase.com/docs/web/libraries/angular/api.html" target="_blank" rel="external">AngularFire API docs</a> to see all the neat angularesque things you can do to your data.</p>
<h3 id="Conclusion">Conclusion</h3><p>Most of the rest of the code for marking todos as completed and whatnot I stole from the todoMVC example. There is <a href="https://github.com/jasonshark/angularFire-todo/blob/master/index.html" target="_blank" rel="external">one really ugly bit of code</a> that I have because I couldn’t get the line-through effect to work with ng-class and CSS.</p>
<figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="title">label</span> <span class="attribute">ng-dblclick</span>=<span class="value">"editTodo(todo)"</span> <span class="attribute">ng-if</span>=<span class="value">'todo.completed'</span> <span class="attribute">ng-style</span>=<span class="value">"&#123;'text-decoration': 'line-through'&#125;"</span>&gt;</span></span><span class="expression">&#123;&#123;<span class="variable">todo.title</span>&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">label</span> <span class="attribute">ng-dblclick</span>=<span class="value">"editTodo(todo)"</span> <span class="attribute">ng-if</span>=<span class="value">'!todo.completed'</span> <span class="attribute">ng-style</span>=<span class="value">"&#123;'text-decoration': 'none'&#125;"</span>&gt;</span></span><span class="expression">&#123;&#123;<span class="variable">todo.title</span>&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">label</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>I repeated myself, used <code>ng-style</code> and <code>ng-if</code> based on the completion status of the task. This works but if you have a fix to clean this up please submit a pull request and I’ll merge that shit up.</p>
<p>Big props to the firebase team on building an awesome product and TodoMVC for all of their work. If you have questions about the code for this tutorial you can find me on <a href="https://twitter.com/cleechtech" target="_blank" rel="external">Twitter</a> or <a href="https://github.com/jasonshark" target="_blank" rel="external">Github</a>.</p>

	</div>
</div>
	</div>
</body>
</html>